/*! fraudes 2023-06-28 */
const nifcon=document.getElementById("nifcon"),nomcon=document.getElementById("nomcon"),ejefra=document.getElementById("ejefra"),fecfra=document.getElementById("fecfra"),tipfra=document.getElementById("cbotip"),getCookie=t=>{let i="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(i=e.split("=")[1])}),i},setCookie=(e,t,i)=>{let r="";var o;i&&((o=new Date).setTime(o.getTime()+24*i*60*60*1e3),r="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+r+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},setSuccess=e=>{var t=e.parentElement;t.querySelector(".invalid-feedback").innerText="",t.classList.add("is-valid"),e.classList.remove("is-invalid")},setError=(e,t)=>{var i=e.parentElement;i.querySelector(".invalid-feedback").innerText=t,e.classList.add("is-invalid"),i.classList.remove("is-valid")},validate=()=>{var t=nifcon.value.trim().toUpperCase().slice(0,9),e=nomcon.value.trim(),i=ejefra.value.trim(),r=fecfra.value.trim(),o=tipfra.value;if(""===t)return setError(nifcon,"NIF/NIE requerido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;{if(!/^([X-Y][0-9]{7}[A-Z]{1})|([0-9]{8}[A-Z]{1})$/.test(t))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;var c=t.slice(0,1),n=t.slice(8);let e=t;isNaN(c)&&(e=t.slice(1),"X"===c?e="0"+e:"Y"===c?e="1"+e:"Z"===c&&(e="2"+e));t=e.slice(0,8),c=parseInt(t)%23;if(!1==(n==="TRWAGMYFPDXBNJZSQVHLCKET".slice(c,1+c)))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1}return""===e?(setError(nomcon,"Nombre requerido"),setTimeout(function(){setSuccess(nomcon)},3e3),!1):"0"===o?(setError(cbotip,"Seleccione un tipo"),setTimeout(function(){setSuccess(cbotip)},3e3),!1):""===i?(setError(ejefra,"Ejercicio requerido"),setTimeout(function(){setSuccess(ejefra)},3e3),!1):!1===/^([0-9]{4})$/.test(i)?(setError(ejefra,"Introduzca ejercicio válido"),setTimeout(function(){setSuccess(ejefra)},3e3),!1):!isNaN(Date.parse(r))||(setError(fecfra,"Fecha requerida"),setTimeout(function(){setSuccess(fecfra)},3e3),!1)};