/*! fraudes 2023-06-27 */
const nifcon=document.getElementById("nifcon"),nomcon=document.getElementById("nomcon"),ejefra=document.getElementById("ejefra"),tipfra=document.getElementById("cbotip"),reffra=document.getElementById("cboref"),getCookie=t=>{let o="";return document.cookie.split(";").forEach(e=>{e.includes(t)&&(o=e.split("=")[1])}),o},setCookie=(e,t,o)=>{let i="";var r;o&&((r=new Date).setTime(r.getTime()+24*o*60*60*1e3),i="; expires="+r.toUTCString()),document.cookie=e+"="+(t||"")+i+"; path=/"},deleteCookie=()=>{document.cookie="filtro=; expires=Thu, 01 Jan 1970 00:00:01 GMT; Path=/;"},setSuccess=e=>{var t=e.parentElement;t.querySelector(".invalid-feedback").innerText="",t.classList.add("is-valid"),e.classList.remove("is-invalid")},setError=(e,t)=>{var o=e.parentElement;o.querySelector(".invalid-feedback").innerText=t,e.classList.add("is-invalid"),o.classList.remove("is-valid")},validate=()=>{var t=nifcon.value.trim().toUpperCase().slice(0,9),e=nomcon.value.trim(),o=ejefra.value.trim(),i=tipfra.value,r=reffra.value;if(""===t)return setError(nifcon,"NIF/NIE requerido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;{if(!/^([X-Y][0-9]{7}[A-Z]{1})|([0-9]{8}[A-Z]{1})$/.test(t))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1;var n=t.slice(0,1),c=t.slice(8);let e=t;isNaN(n)&&(e=t.slice(1),"X"===n?e="0"+e:"Y"===n?e="1"+e:"Z"===n&&(e="2"+e));t=e.slice(0,8),n=parseInt(t)%23;if(!1==(c==="TRWAGMYFPDXBNJZSQVHLCKET".slice(n,1+n)))return setError(nifcon,"Introduzca NIF/NIE válido"),setTimeout(function(){setSuccess(nifcon)},3e3),!1}return""===e?(setError(nomcon,"Nombre requerido"),setTimeout(function(){setSuccess(nomcon)},3e3),!1):"0"===i?(setError(cbotip,"Seleccione un tipo"),setTimeout(function(){setSuccess(cbotip)},3e3),!1):"0"===r?(setError(cboref,"Seleccione una referencia"),setTimeout(function(){setSuccess(cboref)},3e3),!1):""===o?(setError(ejefra,"Ejercicio requerido"),setTimeout(function(){setSuccess(ejefra)},3e3),!1):!1!==/^([0-9]{4})$/.test(o)||(setError(ejefra,"Introduzca ejercicio válido"),setTimeout(function(){setSuccess(ejefra)},3e3),!1)};